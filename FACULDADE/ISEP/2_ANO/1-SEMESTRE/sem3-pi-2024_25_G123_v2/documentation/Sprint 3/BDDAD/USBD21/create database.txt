CREATE TABLE address (idAddress number(10) GENERATED AS IDENTITY, street varchar2(255) NOT NULL, floor varchar2(255), apartment nvarchar2(255), zipCode varchar2(20) NOT NULL, town varchar2(255) NOT NULL, city varchar2(255) NOT NULL, country varchar2(255) NOT NULL, PRIMARY KEY (idAddress));
CREATE TABLE billOfOperation (idBillOfOperations number(10) GENERATED AS IDENTITY, idProduct number(10) NOT NULL, idOperation number(10) NOT NULL, idOperationType number(10) NOT NULL, idInput number(10) NOT NULL, idOutput number(10) NOT NULL, idNextOperation number(10), idNextOperationType number(10), sequenceNumber number(10) NOT NULL, PRIMARY KEY (idBillOfOperations));
CREATE TABLE customer (idCustomer number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, email varchar2(255) NOT NULL, vatin varchar2(255) NOT NULL, phoneNumber varchar2(255) NOT NULL, idAddress number(10) NOT NULL, idCustomerType number(10) NOT NULL, idCustomerStatus number(10) NOT NULL, idLegacyIdentification number(10), PRIMARY KEY (idCustomer));
CREATE TABLE customerOrder (idOrder number(10) GENERATED AS IDENTITY, idCustomer number(10) NOT NULL, orderDate date NOT NULL, deliveryDate date, idDeliveryAddress number(10), idOrderStatus number(10) NOT NULL, PRIMARY KEY (idOrder));
CREATE TABLE customerOrderStatus (idOrderStatus number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, PRIMARY KEY (idOrderStatus));
CREATE TABLE customerStatus (idCustomerStatus number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, PRIMARY KEY (idCustomerStatus));
CREATE TABLE customerType (idCustomerType number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, PRIMARY KEY (idCustomerType));
CREATE TABLE facility (idFacility number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, type varchar2(255), idAddress number(10), PRIMARY KEY (idFacility));
CREATE TABLE finishedProduct (idProduct number(10) NOT NULL, PRIMARY KEY (idProduct));
CREATE TABLE input (idInput number(10) NOT NULL, PRIMARY KEY (idInput));
CREATE TABLE inputProduct (idInput number(10) NOT NULL, idProduct number(10) NOT NULL, quantity number(10) NOT NULL, PRIMARY KEY (idInput, idProduct));
CREATE TABLE legacyIdentification (idLegacyIdentification number(10) GENERATED AS IDENTITY, legacyCode nvarchar2(255) NOT NULL, PRIMARY KEY (idLegacyIdentification));
CREATE TABLE machine (idMachine number(10) GENERATED AS IDENTITY, description varchar2(255) NOT NULL, idMachineType number(10) NOT NULL, idLegacyIdentification number(10), PRIMARY KEY (idMachine));
CREATE TABLE machineType (idMachineType number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, idLegacyIdentification number(10), PRIMARY KEY (idMachineType));
CREATE TABLE operation (idOperation number(10) NOT NULL, idOperationType number(10) NOT NULL, idLegacyIdentification number(10), expectedExecutionTime number(10), PRIMARY KEY (idOperation, idOperationType));
CREATE TABLE operationType (idOperationType number(10) GENERATED AS IDENTITY, description varchar2(255), idLegacyIdentification number(10), PRIMARY KEY (idOperationType));
CREATE TABLE operationTypeWorkstationTypeCompatibility (idOperationType number(10) NOT NULL, idWorkstationType number(10) NOT NULL, PRIMARY KEY (idOperationType, idWorkstationType));
CREATE TABLE orderedItem (idOrder number(10) NOT NULL, idVariant number(10) NOT NULL, quantity number(10) NOT NULL, PRIMARY KEY (idOrder, idVariant));
CREATE TABLE output (idOutput number(10) NOT NULL, PRIMARY KEY (idOutput));
CREATE TABLE outputProduct (idOutput number(10) NOT NULL, idProduct number(10) NOT NULL, quantity number(10) NOT NULL, PRIMARY KEY (idOutput, idProduct));
CREATE TABLE part (idProduct number(10) NOT NULL, minimumStock number(10) NOT NULL, availableStock number(10) NOT NULL, idPartType number(10) NOT NULL, PRIMARY KEY (idProduct));
CREATE TABLE partType (idPartType number(10) GENERATED AS IDENTITY, name nvarchar2(255) NOT NULL, PRIMARY KEY (idPartType));
CREATE TABLE procurement (idSupplier number(10) NOT NULL, idProduct number(10) NOT NULL, unitCost number(10) NOT NULL, minimumOrderSize number(10) NOT NULL, startDate date NOT NULL, endDate date, PRIMARY KEY (idSupplier, idProduct, startDate));
CREATE TABLE product (idProduct number(10) GENERATED AS IDENTITY, description varchar2(255) NOT NULL, idProductFamily number(10) NOT NULL, idUnit number(10) NOT NULL, idLegacyIdentification number(10), PRIMARY KEY (idProduct));
CREATE TABLE productFamily (idProductFamily number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, idLegacyIdentification number(10), PRIMARY KEY (idProductFamily));
CREATE TABLE productionOrder (idProductionOrder number(10) NOT NULL, idOrder number(10) NOT NULL, idVariant number(10) NOT NULL, priority varchar2(255), PRIMARY KEY (idProductionOrder, idOrder, idVariant));
CREATE TABLE productOptionType (idOption number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, PRIMARY KEY (idOption));
CREATE TABLE productOptionTypeVariant (idOption number(10) NOT NULL, idVariant number(10) NOT NULL, value varchar2(255) NOT NULL, PRIMARY KEY (idOption, idVariant));
CREATE TABLE Reservation (idOrder number(10) NOT NULL, idProduct number(10) NOT NULL, quantity number(10) NOT NULL, idReservationStatus number(10) NOT NULL, PRIMARY KEY (idOrder, idProduct));
CREATE TABLE reservationStatus (idReservationStatus number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, PRIMARY KEY (idReservationStatus));
CREATE TABLE subproduct (idProduct number(10) NOT NULL, PRIMARY KEY (idProduct));
CREATE TABLE supplier (idSupplier number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, idLegacyIdentification number(10), PRIMARY KEY (idSupplier));
CREATE TABLE unit (idUnit number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, idUnitType number(10) NOT NULL, PRIMARY KEY (idUnit));
CREATE TABLE unitType (idUnitType number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, PRIMARY KEY (idUnitType));
CREATE TABLE variant (idVariant number(10) GENERATED AS IDENTITY, idProduct number(10) NOT NULL, name varchar2(255) NOT NULL, description varchar2(255), availableStock number(10), PRIMARY KEY (idVariant));
CREATE TABLE workstation (idWorkstation number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, description varchar2(255) NOT NULL, idWorkstationType number(10) NOT NULL, idFacility number(10), idMachine number(10), idWorkstationKind number(10), idLegacyIdentification number(10), PRIMARY KEY (idWorkstation));
CREATE TABLE workstationKind (idWorkstationKind number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, PRIMARY KEY (idWorkstationKind));
CREATE TABLE workstationType (idWorkstationType number(10) GENERATED AS IDENTITY, name varchar2(255) NOT NULL, maximumExecutionTime number(10), setupTime number(10), idLegacyIdentification number(10), PRIMARY KEY (idWorkstationType));
ALTER TABLE customerOrder ADD CONSTRAINT FKcustomerOr539093 FOREIGN KEY (idCustomer) REFERENCES customer (idCustomer);
ALTER TABLE productionOrder ADD CONSTRAINT FKproduction535002 FOREIGN KEY (idOrder) REFERENCES customerOrder (idOrder);
ALTER TABLE workstation ADD CONSTRAINT FKworkstatio545014 FOREIGN KEY (idFacility) REFERENCES facility (idFacility);
ALTER TABLE facility ADD CONSTRAINT FKfacility252702 FOREIGN KEY (idAddress) REFERENCES address (idAddress);
ALTER TABLE customerOrder ADD CONSTRAINT FKcustomerOr362800 FOREIGN KEY (idDeliveryAddress) REFERENCES address (idAddress);
ALTER TABLE customer ADD CONSTRAINT FKcustomer193978 FOREIGN KEY (idAddress) REFERENCES address (idAddress);
ALTER TABLE workstation ADD CONSTRAINT FKworkstatio386477 FOREIGN KEY (idWorkstationType) REFERENCES workstationType (idWorkstationType);
ALTER TABLE operationTypeWorkstationTypeCompatibility ADD CONSTRAINT FKoperationT904156 FOREIGN KEY (idWorkstationType) REFERENCES workstationType (idWorkstationType);
ALTER TABLE operationTypeWorkstationTypeCompatibility ADD CONSTRAINT FKoperationT821100 FOREIGN KEY (idOperationType) REFERENCES operationType (idOperationType);
ALTER TABLE orderedItem ADD CONSTRAINT FKorderedIte577345 FOREIGN KEY (idOrder) REFERENCES customerOrder (idOrder);
ALTER TABLE machine ADD CONSTRAINT FKmachine351112 FOREIGN KEY (idMachineType) REFERENCES machineType (idMachineType);
ALTER TABLE workstation ADD CONSTRAINT FKworkstatio266467 FOREIGN KEY (idMachine) REFERENCES machine (idMachine);
ALTER TABLE workstation ADD CONSTRAINT FKworkstatio535802 FOREIGN KEY (idWorkstationKind) REFERENCES workstationKind (idWorkstationKind);
ALTER TABLE outputProduct ADD CONSTRAINT FKoutputProd658642 FOREIGN KEY (idOutput) REFERENCES output (idOutput);
ALTER TABLE billOfOperation ADD CONSTRAINT FKbillOfOper538718 FOREIGN KEY (idOutput) REFERENCES output (idOutput);
ALTER TABLE inputProduct ADD CONSTRAINT FKinputProdu62288 FOREIGN KEY (idInput) REFERENCES input (idInput);
ALTER TABLE billOfOperation ADD CONSTRAINT FKbillOfOper611711 FOREIGN KEY (idInput) REFERENCES input (idInput);
ALTER TABLE customerOrder ADD CONSTRAINT FKcustomerOr415540 FOREIGN KEY (idOrderStatus) REFERENCES customerOrderStatus (idOrderStatus);
ALTER TABLE customer ADD CONSTRAINT FKcustomer740040 FOREIGN KEY (idCustomerType) REFERENCES customerType (idCustomerType);
ALTER TABLE customer ADD CONSTRAINT FKcustomer215857 FOREIGN KEY (idCustomerStatus) REFERENCES customerStatus (idCustomerStatus);
ALTER TABLE procurement ADD CONSTRAINT FKprocuremen390177 FOREIGN KEY (idSupplier) REFERENCES supplier (idSupplier);
ALTER TABLE Reservation ADD CONSTRAINT FKReservatio264936 FOREIGN KEY (idOrder) REFERENCES customerOrder (idOrder);
ALTER TABLE finishedProduct ADD CONSTRAINT FKfinishedPr374919 FOREIGN KEY (idProduct) REFERENCES product (idProduct);
ALTER TABLE variant ADD CONSTRAINT FKvariant885488 FOREIGN KEY (idProduct) REFERENCES finishedProduct (idProduct);
ALTER TABLE product ADD CONSTRAINT FKproduct272238 FOREIGN KEY (idProductFamily) REFERENCES productFamily (idProductFamily);
ALTER TABLE orderedItem ADD CONSTRAINT FKorderedIte12577 FOREIGN KEY (idVariant) REFERENCES variant (idVariant);
ALTER TABLE inputProduct ADD CONSTRAINT FKinputProdu181495 FOREIGN KEY (idProduct) REFERENCES product (idProduct);
ALTER TABLE outputProduct ADD CONSTRAINT FKoutputProd565289 FOREIGN KEY (idProduct) REFERENCES product (idProduct);
ALTER TABLE part ADD CONSTRAINT FKpart720131 FOREIGN KEY (idProduct) REFERENCES product (idProduct);
ALTER TABLE Reservation ADD CONSTRAINT FKReservatio981470 FOREIGN KEY (idProduct) REFERENCES part (idProduct);
ALTER TABLE productionOrder ADD CONSTRAINT FKproduction54920 FOREIGN KEY (idVariant) REFERENCES variant (idVariant);
ALTER TABLE unit ADD CONSTRAINT FKunit123315 FOREIGN KEY (idUnitType) REFERENCES unitType (idUnitType);
ALTER TABLE product ADD CONSTRAINT FKproduct263410 FOREIGN KEY (idUnit) REFERENCES unit (idUnit);
ALTER TABLE procurement ADD CONSTRAINT FKprocuremen924231 FOREIGN KEY (idProduct) REFERENCES part (idProduct);
ALTER TABLE Reservation ADD CONSTRAINT FKReservatio495653 FOREIGN KEY (idReservationStatus) REFERENCES reservationStatus (idReservationStatus);
ALTER TABLE part ADD CONSTRAINT FKpart692930 FOREIGN KEY (idPartType) REFERENCES partType (idPartType);
ALTER TABLE productOptionTypeVariant ADD CONSTRAINT FKproductOpt875718 FOREIGN KEY (idOption) REFERENCES productOptionType (idOption);
ALTER TABLE productOptionTypeVariant ADD CONSTRAINT FKproductOpt705455 FOREIGN KEY (idVariant) REFERENCES variant (idVariant);
ALTER TABLE product ADD CONSTRAINT FKproduct581885 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE productFamily ADD CONSTRAINT FKproductFam429314 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE machine ADD CONSTRAINT FKmachine602178 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE machineType ADD CONSTRAINT FKmachineTyp938954 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE workstation ADD CONSTRAINT FKworkstatio326522 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE workstationType ADD CONSTRAINT FKworkstatio505237 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE operationType ADD CONSTRAINT FKoperationT915685 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE customer ADD CONSTRAINT FKcustomer739526 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE subproduct ADD CONSTRAINT FKsubproduct461123 FOREIGN KEY (idProduct) REFERENCES product (idProduct);
ALTER TABLE billOfOperation ADD CONSTRAINT FKbillOfOper632071 FOREIGN KEY (idProduct) REFERENCES product (idProduct);
ALTER TABLE supplier ADD CONSTRAINT FKsupplier749328 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
ALTER TABLE operation ADD CONSTRAINT FKoperation552364 FOREIGN KEY (idOperationType) REFERENCES operationType (idOperationType);
ALTER TABLE billOfOperation ADD CONSTRAINT FKbillOfOper459346 FOREIGN KEY (idOperation, idOperationType) REFERENCES operation (idOperation, idOperationType);
ALTER TABLE billOfOperation ADD CONSTRAINT FKbillOfOper579400 FOREIGN KEY (idNextOperation, idNextOperationType) REFERENCES operation (idOperation, idOperationType);
ALTER TABLE operation ADD CONSTRAINT FKoperation210717 FOREIGN KEY (idLegacyIdentification) REFERENCES legacyIdentification (idLegacyIdentification);
