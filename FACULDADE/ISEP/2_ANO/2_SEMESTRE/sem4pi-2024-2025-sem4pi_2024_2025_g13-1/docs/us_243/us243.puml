@startuml
skinparam linetype ortho
skinparam package {
  BackgroundColor #F9E79F
  BorderColor Black
}

actor "Drone Tech" as DT
participant "ListActiveDronesUI" as UI
participant "ListActiveDronesByModelController" as Controller
participant "DroneInventoryService" as Service
participant "DroneRepository" as Repo
participant "DroneModelRepository" as ModelRepo

DT -> UI : Enter Drone Model Name\n+ Desired Status
UI -> Controller : findByModelAndStatus(modelName, status)
Controller -> ModelRepo : findByName(modelName)

alt model not found
    ModelRepo --> Controller : Optional.empty
    Controller -> UI : show "Model not found"
    UI -> DT : display error
else
    ModelRepo --> Controller : DroneModel
    Controller -> Service : findByModelAndStatus(model, status)
    Service -> Repo : findByModelAndStatus(model, status)
    Repo --> Service : list of Drones
    Service --> Controller : list of Drones
    Controller --> UI : list of Drones
    UI -> DT : show drone list
end
@enduml
