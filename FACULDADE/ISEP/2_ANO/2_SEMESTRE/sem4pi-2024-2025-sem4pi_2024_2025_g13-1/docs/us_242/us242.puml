@startuml
skinparam linetype ortho
skinparam package {
  BackgroundColor #F9E79F
  BorderColor Black
}

actor "Drone Tech" as DT
participant "DroneInventoryRemovalUI" as UI
participant "DroneRemovalController" as Controller
participant "DroneInventoryService" as Service
participant "DroneRepository" as Repo

DT -> UI : Enter Drone Name\n+ Reason\n+ Date\n+ Select Status (Decommissioned/In_Repair)
UI -> Controller : removeDrone(serialNumber, reason, date, newStatus)
Controller -> Service : removeDrone(serialNumber, reason, date, newStatus)
Service -> Repo : findBySerialNumber(serialNumber)

alt Drone not found
    Service -> Controller : throw DroneNotFoundException
    Controller -> UI : display error
    UI -> DT : show "Drone not found" message
else
    Service -> Drone : removeFromInventory(reason, date, newStatus)
    alt invalid status
        Service -> Controller : throw InvalidStatusException
        Controller -> UI : display error
        UI -> DT : show "Invalid status" message
    else
        Service -> Repo : save(updated Drone)
        Repo --> Service : confirmation
        Service --> Controller : success
        Controller --> UI : success message with Drone info
        UI -> DT : show removal success and details
    end
end
@enduml
