<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1935px" preserveAspectRatio="none" style="width:1992px;height:1935px;background:#FFFFFF;" version="1.1" viewBox="0 0 1992 1935" width="1992px" zoomAndPan="magnify"><title>US312 - Add Figures to a Proposal (Corrected Stateful Flow)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="399.834" x="797.8955" y="30.1074">US312 - Add Figures to a Proposal (Corrected Stateful Flow)</text><rect fill="none" height="862.8184" style="stroke:#000000;stroke-width:1.5;" width="1976.625" x="10" y="816.3535"/><rect fill="none" height="735.6543" style="stroke:#000000;stroke-width:1.5;" width="1956.625" x="20" y="936.5176"/><rect fill="none" height="367.832" style="stroke:#000000;stroke-width:1.5;" width="1566.3574" x="30" y="1297.3398"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="99" x2="99" y1="123.2422" y2="1852.627"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="460.5957" x2="460.5957" y1="123.2422" y2="1852.627"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="828.9414" x2="828.9414" y1="123.2422" y2="1852.627"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1057.4219" x2="1057.4219" y1="123.2422" y2="1852.627"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1255.29" x2="1255.29" y1="123.2422" y2="1852.627"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1411.4824" x2="1411.4824" y1="123.2422" y2="1852.627"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1534.082" x2="1534.082" y1="123.2422" y2="1852.627"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1692.3574" x2="1692.3574" y1="123.2422" y2="1852.627"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1883.1152" x2="1883.1152" y1="1184.6563" y2="1852.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0342" x="40" y="119.7285">CRM Collaborator</text><ellipse cx="99.0171" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M99.0171,61.1211 L99.0171,88.1211 M86.0171,69.1211 L112.0171,69.1211 M99.0171,88.1211 L86.0171,103.1211 M99.0171,88.1211 L112.0171,103.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0342" x="40" y="1866.7344">CRM Collaborator</text><ellipse cx="99.0171" cy="1878.748" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M99.0171,1886.748 L99.0171,1913.748 M86.0171,1894.748 L112.0171,1894.748 M99.0171,1913.748 L86.0171,1928.748 M99.0171,1913.748 L112.0171,1928.748 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1855" x="375.5957" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1855" x="382.5957" y="111.7285">AddFiguresToProposalUI</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1855" x="375.5957" y="1851.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1855" x="382.5957" y="1873.7344">AddFiguresToProposalUI</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217.875" x="720.9414" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.875" x="727.9414" y="111.7285">AddFiguresToProposalController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="217.875" x="720.9414" y="1851.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.875" x="727.9414" y="1873.7344">AddFiguresToProposalController</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="203.8682" x="956.4219" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.8682" x="963.4219" y="111.7285">AddFiguresToProposalService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="203.8682" x="956.4219" y="1851.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.8682" x="963.4219" y="1873.7344">AddFiguresToProposalService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1924" x="1170.29" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1924" x="1177.29" y="111.7285">ShowProposalRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1924" x="1170.29" y="1851.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1924" x="1177.29" y="1873.7344">ShowProposalRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.5996" x="1351.4824" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.5996" x="1358.4824" y="111.7285">FigureRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.5996" x="1351.4824" y="1851.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.5996" x="1358.4824" y="1873.7344">FigureRepository</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104.2754" x="1482.082" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2754" x="1489.082" y="111.7285">ShowProposal</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104.2754" x="1482.082" y="1851.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2754" x="1489.082" y="1873.7344">ShowProposal</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="193.7578" x="1596.3574" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7578" x="1603.3574" y="111.7285">chosenFigure: FigureVersion</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="193.7578" x="1596.3574" y="1851.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7578" x="1603.3574" y="1873.7344">chosenFigure: FigureVersion</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166.5098" x="1800.1152" y="1851.627"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.5098" x="1807.1152" y="1873.7344">DroneTypeMappingDTO</text><polygon fill="#181818" points="449.1885,152.5332,459.1885,156.5332,449.1885,160.5332,453.1885,156.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="99.0171" x2="455.1885" y1="156.5332" y2="156.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.9492" x="106.0171" y="151.2705">Initiates "Add Figures to a Proposal"</text><polygon fill="#181818" points="817.8789,183.8242,827.8789,187.8242,817.8789,191.8242,821.8789,187.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="823.8789" y1="187.8242" y2="187.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.1099" x="468.1885" y="182.5615">listAvailableProposals()</text><polygon fill="#181818" points="1243.8862,215.1152,1253.8862,219.1152,1243.8862,223.1152,1247.8862,219.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.8789" x2="1249.8862" y1="219.1152" y2="219.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.8462" x="836.8789" y="213.8525">findProposalsWithoutFigures()</text><polygon fill="#181818" points="840.8789,246.4063,830.8789,250.4063,840.8789,254.4063,836.8789,250.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="834.8789" x2="1254.8862" y1="250.4063" y2="250.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2407" x="846.8789" y="245.1436">List&lt;ShowProposal&gt;</text><polygon fill="#181818" points="472.1885,277.6973,462.1885,281.6973,472.1885,285.6973,468.1885,281.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="466.1885" x2="828.8789" y1="281.6973" y2="281.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1226" x="478.1885" y="276.4346">availableProposals</text><polygon fill="#181818" points="110.0171,308.9883,100.0171,312.9883,110.0171,316.9883,106.0171,312.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.0171" x2="460.1885" y1="312.9883" y2="312.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2344" x="116.0171" y="307.7256">Presents list of proposals</text><polygon fill="#181818" points="449.1885,340.2793,459.1885,344.2793,449.1885,348.2793,453.1885,344.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="99.0171" x2="455.1885" y1="344.2793" y2="344.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.9497" x="106.0171" y="339.0166">Selects a proposal (selectedProposal)</text><polygon fill="#181818" points="110.0171,371.5703,100.0171,375.5703,110.0171,379.5703,106.0171,375.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.0171" x2="460.1885" y1="375.5703" y2="375.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1353" x="116.0171" y="370.3076">Asks for figure selection mode</text><polygon fill="#181818" points="449.1885,402.8613,459.1885,406.8613,449.1885,410.8613,453.1885,406.8613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="99.0171" x2="455.1885" y1="406.8613" y2="406.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.439" x="106.0171" y="401.5986">Chooses mode</text><polygon fill="#181818" points="817.8789,434.1523,827.8789,438.1523,817.8789,442.1523,821.8789,438.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="823.8789" y1="438.1523" y2="438.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.207" x="468.1885" y="432.8896">figuresForMode(mode, showRequest)</text><polygon fill="#181818" points="1046.356,465.4434,1056.356,469.4434,1046.356,473.4434,1050.356,469.4434" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.8789" x2="1052.356" y1="469.4434" y2="469.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.4771" x="836.8789" y="464.1807">selectFigures(mode, showRequest)</text><polygon fill="#181818" points="1399.7822,496.7344,1409.7822,500.7344,1399.7822,504.7344,1403.7822,500.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1058.356" x2="1405.7822" y1="500.7344" y2="500.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.4917" x="1065.356" y="495.4717">findAllFigureVersions()</text><polygon fill="#181818" points="1069.356,528.0254,1059.356,532.0254,1069.356,536.0254,1065.356,532.0254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1063.356" x2="1410.7822" y1="532.0254" y2="532.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4326" x="1075.356" y="526.7627">allFigureVersions</text><polygon fill="#181818" points="840.8789,559.3164,830.8789,563.3164,840.8789,567.3164,836.8789,563.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="834.8789" x2="1057.356" y1="563.3164" y2="563.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.728" x="846.8789" y="558.0537">candidateFigures</text><polygon fill="#181818" points="472.1885,590.6074,462.1885,594.6074,472.1885,598.6074,468.1885,594.6074" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="466.1885" x2="828.8789" y1="594.6074" y2="594.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.728" x="478.1885" y="589.3447">candidateFigures</text><polygon fill="#181818" points="817.8789,621.8984,827.8789,625.8984,817.8789,629.8984,821.8789,625.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="823.8789" y1="625.8984" y2="625.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314.3296" x="468.1885" y="620.6357">getAvailableDroneFleetForProposal(selectedProposal)</text><polygon fill="#181818" points="1522.2197,653.1895,1532.2197,657.1895,1522.2197,661.1895,1526.2197,657.1895" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.8789" x2="1528.2197" y1="657.1895" y2="657.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.0381" x="836.8789" y="651.9268">getDroneFleet()</text><polygon fill="#181818" points="840.8789,684.4805,830.8789,688.4805,840.8789,692.4805,836.8789,688.4805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="834.8789" x2="1533.2197" y1="688.4805" y2="688.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233.4033" x="846.8789" y="683.2178">droneFleet (Map&lt;DroneModel, Integer&gt;)</text><polygon fill="#181818" points="472.1885,715.7715,462.1885,719.7715,472.1885,723.7715,468.1885,719.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="466.1885" x2="828.8789" y1="719.7715" y2="719.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.1499" x="478.1885" y="714.5088">droneFleet</text><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="503.1885" y1="751.0625" y2="751.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="503.1885" x2="503.1885" y1="751.0625" y2="764.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="462.1885" x2="503.1885" y1="764.0625" y2="764.0625"/><polygon fill="#181818" points="472.1885,760.0625,462.1885,764.0625,472.1885,768.0625,468.1885,764.0625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313.9614" x="468.1885" y="745.7998">availableDronesForShow = new HashMap(droneFleet)</text><path d="M466,777.0625 L466,804.0625 L739,804.0625 L739,787.0625 L729,777.0625 L466,777.0625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M729,777.0625 L729,787.0625 L739,787.0625 L729,777.0625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.897" x="472" y="796.0908">Creates a local, mutable copy to track state.</text><path d="M10,816.3535 L82.4346,816.3535 L82.4346,825.6445 L72.4346,835.6445 L10,835.6445 L10,816.3535 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="862.8184" style="stroke:#000000;stroke-width:1.5;" width="1976.625" x="10" y="816.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27.4346" x="25" y="831.3818">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119.7808" x="97.4346" y="830.2236">[for each figure to add]</text><polygon fill="#181818" points="110.0171,854.9355,100.0171,858.9355,110.0171,862.9355,106.0171,858.9355" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.0171" x2="460.1885" y1="858.9355" y2="858.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289.0024" x="116.0171" y="853.6729">Displays current available drones (from local map)</text><polygon fill="#181818" points="110.0171,886.2266,100.0171,890.2266,110.0171,894.2266,106.0171,890.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.0171" x2="460.1885" y1="890.2266" y2="890.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.9243" x="116.0171" y="884.9639">Presents candidate figures</text><polygon fill="#181818" points="449.1885,917.5176,459.1885,921.5176,449.1885,925.5176,453.1885,921.5176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="99.0171" x2="455.1885" y1="921.5176" y2="921.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296.2578" x="106.0171" y="916.2549">Selects a figure (chosenFigure) or chooses to finish</text><path d="M20,936.5176 L85.2109,936.5176 L85.2109,945.8086 L75.2109,955.8086 L20,955.8086 L20,936.5176 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="735.6543" style="stroke:#000000;stroke-width:1.5;" width="1956.625" x="20" y="936.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="35" y="951.5459">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="116.1445" x="100.2109" y="950.3877">[if a figure is selected]</text><polygon fill="#181818" points="1681.2363,975.0996,1691.2363,979.0996,1681.2363,983.0996,1685.2363,979.0996" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="1687.2363" y1="979.0996" y2="979.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0107" x="468.1885" y="973.8369">getRequiredDronesSummary()</text><polygon fill="#181818" points="472.1885,1006.3906,462.1885,1010.3906,472.1885,1014.3906,468.1885,1010.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="466.1885" x2="1692.2363" y1="1010.3906" y2="1010.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254.3506" x="478.1885" y="1005.1279">requiredDrones (Map&lt;DroneType, Integer&gt;)</text><path d="M466,1023.3906 L466,1084.3906 L843,1084.3906 L843,1033.3906 L833,1023.3906 L466,1023.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M833,1023.3906 L833,1033.3906 L843,1033.3906 L833,1023.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356.2305" x="472" y="1042.4189">For each required drone type, the UI filters compatible models</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284.686" x="472" y="1059.71">to show only those with sufficient quantity from its</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351.0698" x="472" y="1077.001">local 'availableDronesForShow' map. This is a key validation.</text><polygon fill="#181818" points="110.0171,1109.5547,100.0171,1113.5547,110.0171,1117.5547,106.0171,1113.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.0171" x2="460.1885" y1="1113.5547" y2="1113.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.1714" x="116.0171" y="1108.292">Asks for the mapping from drone types to available models</text><polygon fill="#181818" points="449.1885,1140.8457,459.1885,1144.8457,449.1885,1148.8457,453.1885,1144.8457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="99.0171" x2="455.1885" y1="1144.8457" y2="1144.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.127" x="106.0171" y="1139.583">Provides the mappings (droneMappings)</text><polygon fill="#181818" points="1788.1152,1172.1367,1798.1152,1176.1367,1788.1152,1180.1367,1792.1152,1176.1367" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="1794.1152" y1="1176.1367" y2="1176.1367"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8735" x="468.1885" y="1170.874">new(mappings)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="166.5098" x="1800.1152" y="1152.8457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.5098" x="1807.1152" y="1174.9531">DroneTypeMappingDTO</text><polygon fill="#181818" points="817.8789,1215.7578,827.8789,1219.7578,817.8789,1223.7578,821.8789,1219.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="823.8789" y1="1219.7578" y2="1219.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344.6904" x="468.1885" y="1214.4951">addFigureToProposal(selectedProposal, chosenFigure, dto)</text><polygon fill="#181818" points="1046.356,1247.0488,1056.356,1251.0488,1046.356,1255.0488,1050.356,1251.0488" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.8789" x2="1052.356" y1="1251.0488" y2="1251.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.1016" x="836.8789" y="1245.7861">addFigure(proposal, figure, dto)</text><polygon fill="#181818" points="1522.2197,1278.3398,1532.2197,1282.3398,1522.2197,1286.3398,1526.2197,1282.3398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1058.356" x2="1528.2197" y1="1282.3398" y2="1282.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.0679" x="1065.356" y="1277.0771">addFigureToShow(figure.id(), dto.mappings)</text><path d="M30,1297.3398 L90.1709,1297.3398 L90.1709,1306.6309 L80.1709,1316.6309 L30,1316.6309 L30,1297.3398 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="367.832" style="stroke:#000000;stroke-width:1.5;" width="1566.3574" x="30" y="1297.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="45" y="1312.3682">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="280.5376" x="105.1709" y="1311.21">[Validation failed in Domain (e.g., consecutive figure)]</text><polygon fill="#181818" points="1069.356,1335.9219,1059.356,1339.9219,1069.356,1343.9219,1065.356,1339.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1063.356" x2="1533.2197" y1="1339.9219" y2="1339.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.3188" x="1075.356" y="1334.6592">throws IllegalArgumentException</text><polygon fill="#181818" points="840.8789,1367.2129,830.8789,1371.2129,840.8789,1375.2129,836.8789,1371.2129" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="834.8789" x2="1057.356" y1="1371.2129" y2="1371.2129"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6499" x="846.8789" y="1365.9502">exception</text><polygon fill="#181818" points="472.1885,1398.5039,462.1885,1402.5039,472.1885,1406.5039,468.1885,1402.5039" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="466.1885" x2="828.8789" y1="1402.5039" y2="1402.5039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6499" x="478.1885" y="1397.2412">exception</text><polygon fill="#181818" points="110.0171,1429.7949,100.0171,1433.7949,110.0171,1437.7949,106.0171,1433.7949" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.0171" x2="460.1885" y1="1433.7949" y2="1433.7949"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1309" x="116.0171" y="1428.5322">informs of error</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1596.3574" y1="1442.7949" y2="1442.7949"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="50.7515" x="35" y="1454.665">[success]</text><polygon fill="#181818" points="1069.356,1477.7168,1059.356,1481.7168,1069.356,1485.7168,1065.356,1481.7168" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1063.356" x2="1533.2197" y1="1481.7168" y2="1481.7168"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.96" x="1075.356" y="1476.4541">success</text><polygon fill="#181818" points="840.8789,1509.0078,830.8789,1513.0078,840.8789,1517.0078,836.8789,1513.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="834.8789" x2="1057.356" y1="1513.0078" y2="1513.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.96" x="846.8789" y="1507.7451">success</text><polygon fill="#181818" points="472.1885,1540.2988,462.1885,1544.2988,472.1885,1548.2988,468.1885,1544.2988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="466.1885" x2="828.8789" y1="1544.2988" y2="1544.2988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.96" x="478.1885" y="1539.0361">success</text><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="503.1885" y1="1575.5898" y2="1575.5898"/><line style="stroke:#181818;stroke-width:1.0;" x1="503.1885" x2="503.1885" y1="1575.5898" y2="1588.5898"/><line style="stroke:#181818;stroke-width:1.0;" x1="462.1885" x2="503.1885" y1="1588.5898" y2="1588.5898"/><polygon fill="#181818" points="472.1885,1584.5898,462.1885,1588.5898,472.1885,1592.5898,468.1885,1588.5898" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.979" x="468.1885" y="1570.3271">updates 'availableDronesForShow' map</text><path d="M466,1601.5898 L466,1628.5898 L757,1628.5898 L757,1611.5898 L747,1601.5898 L466,1601.5898 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M747,1601.5898 L747,1611.5898 L757,1611.5898 L747,1601.5898 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.2896" x="472" y="1620.6182">Subtracts the drones used by the added figure.</text><polygon fill="#181818" points="110.0171,1653.1719,100.0171,1657.1719,110.0171,1661.1719,106.0171,1657.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.0171" x2="460.1885" y1="1657.1719" y2="1657.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.6333" x="116.0171" y="1651.9092">Informs that the figure was added successfully</text><polygon fill="#181818" points="817.8789,1705.4629,827.8789,1709.4629,817.8789,1713.4629,821.8789,1709.4629" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="461.1885" x2="823.8789" y1="1709.4629" y2="1709.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.1543" x="468.1885" y="1704.2002">saveProposal(selectedProposal)</text><polygon fill="#181818" points="1243.8862,1736.7539,1253.8862,1740.7539,1243.8862,1744.7539,1247.8862,1740.7539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="829.8789" x2="1249.8862" y1="1740.7539" y2="1740.7539"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.8462" x="836.8789" y="1735.4912">save(selectedProposal)</text><polygon fill="#181818" points="840.8789,1768.0449,830.8789,1772.0449,840.8789,1776.0449,836.8789,1772.0449" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="834.8789" x2="1254.8862" y1="1772.0449" y2="1772.0449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.998" x="846.8789" y="1766.7822">savedProposal</text><polygon fill="#181818" points="472.1885,1799.3359,462.1885,1803.3359,472.1885,1807.3359,468.1885,1803.3359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="466.1885" x2="828.8789" y1="1803.3359" y2="1803.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.96" x="478.1885" y="1798.0732">success</text><polygon fill="#181818" points="110.0171,1830.627,100.0171,1834.627,110.0171,1838.627,106.0171,1834.627" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.0171" x2="460.1885" y1="1834.627" y2="1834.627"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.5215" x="116.0171" y="1829.3643">Informs that the proposal was saved successfully</text><!--SRC=[bLTHR-Cs37xtho3oKWTe3TpTzbBS2XJjYXMuOeUclNjMRJdMAbi-IKwM_VgHacnBYTlR2XH9RVAZ-F4ZgLfX9OVdpQSF7-42hgiAxiHsqDo0LS3WgrQzCan2VgEqvgNb5MmiixmU9Dn9jLzd6Ikjqh2wUNo06oKbUr6QuPCLC0FuCEkPjg8KFUii1GZuJsh4Vhudo-VxdnhUgCvgZC2rWvx- -gdZXkkTA3bvXQ-9owPH-z7qaUE7mECVo3f-chZu4Adn_EnDz1WpCLgLZJAyyn2N0UeRrqQeRZM39pwtMdNywT3p1zRtejlUFlr9blYHPMVmeS1S9LOCRCEX7uDIbIwka6suXFjEM86rDB1wi_2h34tH8UB-4gGmzdh71DPQyj7IvEiiiaAVc3tqgaLNJSRVXMtKO4DCT4sCBuuZVi68dsCchv9OOqRiv53ZyJ7jIpmGHvAjSGc0gYTQJCABvyqW2_qaV-EUyIc1DN7yiO2RHc7Xe5KLogkhOCijbFX5L4WifkpIImvnRLuDrDWn_YLuPAop0qaEui6DVx5GXm1_f_G3MkHaTWu6MNhaFmPkx751nZwu3457zXSSHrFqcdKTYdWjPI9GAbzaT954OiV6C_HnEXDluLoB9JunmZfyAeAMfVY7WrGbLinOLm3akQ8-WLfoRfT8n8fDMdOjTKUMoEbOweNQB-lSWyqOaQfFawqcCyYnWJyxDogZFCTaBDzoVRLUP63s3EcaqdT0f0bg5_WDEhw7FvXfC4W-kwwpJY4_McmRrmbURvgxSS0yX-VG3fOWeLJzWUQ2rQnyzTGMHFml1NnHgdSZ0oT8qADhX9vh9BzrqwVr0ogJP4ibuQniHlrxtmpm9swJMs5woGu6oW4N3uwxAK5FW86yrgeDrSO8wnE8gTrF6v9Cbri-d2gF1_8QyCnbQ4OyBpQ1C4tcK5HlGTIpep0mwiMzfvyp2Z8uPsH3lVpbOWdCIIBZrG4QPYPZdu4Fx1L5JIaqhtnbDqFRCdt8rvD7i9q4eXFxI5wqB69rZG37KfXUEFInNYDiQ2Zhm2WX35eBQR6_KIXjpwoWAj5GaIQ1Gkfeo83g9Cg928OzxW4mGrtZLgCg_nXmjGbx05TSOLC0N-opPQsVaGeAU6gm189A-SeFiCEPW9N7mLDCI1pbIIbdKO6UPfbIL2vhmgWeKT6DMRh3qdUy2N6n8ogOPKULEvhoaVvzJZDxVjLEiZuYB9OdZf6Tg89-0XeMra65xM_MSJgqpybsxh7u5e1QfEFG8xejZ6wbQ__aaK-9RXQND4ZoTWfsb7GysjXu1PjlO2Spz1pY1Zk7ogePywsjDG7d_GHJBm54soiQpj6vI2-vTor4bQ-TVz6UKicaXM-JXg36Oc7PKHAtgcNuaVDYMs0okDXuELWKHJZHEX5kiWVcX6oZrTx0FQQwPV9QRuSMc-3tlqlUKxW4uisroHVDbpR7icKiMz7Hq3Oq1hZMIiyz8x5PpL2Mt9Z_ajcIwPiPB1aldN_9Bbg1Gr-vzVNUV4Xy5rRWPdYX9MTzguLDWwExWfU3UuGYukEcAvPvf9krfz4spCPzkCVxkGS8gU2_KV8G3wPi_AHVtB2_5l2LBax6uvGDwxRpXJ8XaUtu_xwoX5iT-Ixul7yd9wV9E7klNh72JgYPXXAHup1JSlu5]--></g></svg>