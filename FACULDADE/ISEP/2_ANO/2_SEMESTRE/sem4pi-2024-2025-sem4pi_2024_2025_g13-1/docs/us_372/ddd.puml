@startuml

skinparam linetype ortho

skinparam package {
  BackgroundColor #D6EAF8
  BorderColor Black

}

' ==== SHOW PROPOSAL ====

package "shodrone.core.showproposalmanagement.domain" <<Aggregate>> {

class ShowProposal <<Entity, AggregateRoot>> {}
class ShowProposalID <<ValueObject>> {}
class Video <<ValueObject>> {}
class ShowProposalTotalDrone <<ValueObject>> {}

class ShowProposalDocument <<ValueObject>> {
- String name
- String description
- String pluginClass
}

class ShowProposalDuration <<ValueObject>> {}

enum ShowProposalStatus <<Enum>> {
CREATED,
SENT,
ACCEPTED,
REJECTED

}

}

package "shodrone.core.showproposalmanagement.service" {

class ShowProposalService <<DomainService>> {
This domain service orchestrates the preparation of a show proposal
based on a specific ShowRequest. It is responsible for:
selecting figures from the catalogue or newly created ones,
assigning drones and mapping them to figure types,
initiating and attaching a SimulationID for validation,
generating video previews and formatted templates,
and managing the proposalâ€™s acceptance or rejection status.
}

}

package "shodrone.core.showproposalmanagement.repository" {

interface ShowProposalRepository

}

' ==== SHOW ====

package "shodrone.core.showmanagement.domain" <<Aggregate>> {

entity Show <<Entity, AggregateRoot>> {}
class DomainDateTime <<ValueObject>> {}

enum ShowStatus <<Enum>> {
SCHEDULED,
IN_PROGRESS,
COMPLETED,
CANCELED
}

class ShowDescription <<ValueObject>> {}


}

package "shodrone.core.showmanagement.service" {

class ShowService <<DomainService>> {
Schedules shows based on accepted proposals,
considering drone availability and time slots.
}

}

package "shodrone.core.showmanagement.repository" {

interface ShowRepository

}

' ==== RELATIONSHIPS ====

ShowProposal  -->  ShowProposalStatus
ShowProposal  *--  Video
ShowProposal  *--  ShowProposalDocument
ShowProposal  *--  ShowProposalTotalDrone
ShowProposal *-- ShowProposalDuration
ShowProposal *-- DomainDateTime
ShowProposal *-- ShowProposalID

Show  *--  DomainDateTime
Show  -->  ShowStatus
Show --> ShowProposalID
Show *-- ShowDescription

ShowService ..> ShowProposal
ShowService ..> Show
ShowProposalService ..> ShowProposal

ShowRepository ..> Show
ShowProposalRepository ..> ShowProposal

@enduml